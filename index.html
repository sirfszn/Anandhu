<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Stories & Self-Realization</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* Custom CSS for the canvas and overall layout */
        body {
            margin: 0;
            overflow: hidden; /* Hide scrollbars for the full-screen effect */
            font-family: 'Inter', sans-serif; /* Use Inter font */
            color: #e0e0e0; /* Light text color for contrast */
            background-color: #1a1a2e; /* Dark background */
        }
        canvas {
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1; /* Place canvas behind content */
        }
        .content-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow-y: auto; /* Allow scrolling for content */
            z-index: 1; /* Place content above canvas */
            padding: 1rem; /* Padding for mobile */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }
        /* Custom scrollbar for content overlay */
        .content-overlay::-webkit-scrollbar {
            width: 8px;
        }
        .content-overlay::-webkit-scrollbar-track {
            background: #2a2a4a;
            border-radius: 10px;
        }
        .content-overlay::-webkit-scrollbar-thumb {
            background: #6a6a8a;
            border-radius: 10px;
        }
        .content-overlay::-webkit-scrollbar-thumb:hover {
            background: #8a8ab0;
        }
    </style>
</head>
<body>
    <canvas id="globeCanvas"></canvas>

    <div id="countryPopup" style="display:none;position:absolute;z-index:10;top:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:#fff;padding:16px 24px;border-radius:10px;"></div>

    <div class="content-overlay bg-gradient-to-b from-transparent via-transparent to-black/80">
        <header class="w-full max-w-4xl mx-auto text-center py-8 md:py-12">
            <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-4 drop-shadow-lg">
                Global Narratives & Inner Journeys
            </h1>
            <p class="text-lg md:text-xl text-gray-300">
                Exploring the world's most captivating stories and the timeless wisdom that touches the soul.
            </p>
        </header>

        <main class="w-full max-w-4xl mx-auto p-4 md:p-8 space-y-10">
            <!-- Anime Section -->
            <section class="bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-2xl border border-white/20">
                <h2 class="text-3xl md:text-4xl font-bold text-blue-300 mb-4">Anime Adventures</h2>
                <p class="text-gray-200 leading-relaxed mb-4">
                    Dive into the vibrant and imaginative worlds of anime, from epic shonen battles to heartwarming slice-of-life tales. Discover how Japanese animation captivates audiences worldwide with its unique storytelling, stunning visuals, and profound themes of friendship, courage, and self-discovery.
                </p>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li>Explore the rich history and diverse genres of anime.</li>
                    <li>Uncover the cultural impact and global phenomena of popular series.</li>
                    <li>Journey through narratives that inspire, challenge, and entertain.</li>
                </ul>
            </section>

            <!-- Films Section -->
            <section class="bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-2xl border border-white/20">
                <h2 class="text-3xl md:text-4xl font-bold text-green-300 mb-4">Cinematic Journeys</h2>
                <p class="text-gray-200 leading-relaxed mb-4">
                    Experience the magic of cinema, a universal language that transcends borders. From Hollywood blockbusters to independent foreign films, we explore the art of filmmaking and the powerful stories that reflect the human condition, provoke thought, and evoke deep emotions.
                </p>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li>Discover groundbreaking films from every corner of the globe.</li>
                    <li>Understand the narrative techniques that make a movie unforgettable.</li>
                    <li>Celebrate the directors, actors, and visionaries who shape our cinematic landscape.</li>
                </ul>
            </section>

            <!-- Entertainment Stories Section -->
            <section class="bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-2xl border border-white/20">
                <h2 class="text-3xl md:text-4xl font-bold text-purple-300 mb-4">Global Entertainment Chronicles</h2>
                <p class="text-gray-200 leading-relaxed mb-4">
                    Beyond anime and films, the world of entertainment is vast and ever-evolving. From captivating TV series and immersive video games to live performances and digital content, we bring you stories that define popular culture and connect communities across continents.
                </p>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li>Delve into the latest trends and innovations in entertainment.</li>
                    <li>Explore the impact of digital media on global storytelling.</li>
                    <li>Celebrate the diverse forms of art that entertain and inspire millions.</li>
                </ul>
            </section>

            <!-- Soul-Touching Stories Section -->
            <section class="bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-2xl border border-white/20">
                <h2 class="text-3xl md:text-4xl font-bold text-yellow-300 mb-4">Soul-Touching Narratives: Santana Dharma, Self-Realization & Moksha</h2>
                <p class="text-gray-200 leading-relaxed mb-4">
                    Embark on a profound journey into stories that transcend the mundane and touch the very essence of existence. Inspired by the timeless wisdom of Santana Dharma, we explore narratives of self-realization, spiritual awakening, and the pursuit of Moksha (liberation). These stories, whether ancient parables or modern reflections, offer insights into human consciousness, purpose, and ultimate freedom.
                </p>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li>Discover philosophical tales that illuminate the path to inner peace.</li>
                    <li>Explore concepts of dharma, karma, and the cyclical nature of existence.</li>
                    <li>Find inspiration in the lives and teachings of those who sought ultimate truth.</li>
                </ul>
            </section>
        </main>

        <footer class="w-full max-w-4xl mx-auto text-center py-8 md:py-12 mt-10 text-gray-400">
            <p>&copy; 2025 Global Narratives. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Three.js code for the 3D globe background

        let scene, camera, renderer, globe;
        let mouseX = 0, mouseY = 0;
        let windowHalfX = window.innerWidth / 2;
        let windowHalfY = window.innerHeight / 2;
        let raycaster = new THREE.Raycaster();
        let mouse = new THREE.Vector2();
        let marker; // To store the current marker
        let countryMeshes = [];
        let highlighted = null;

        function init() {
            // Scene setup
            scene = new THREE.Scene();

            // Camera setup
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5; // Position the camera to see the globe

            // Renderer setup
            const canvas = document.getElementById('globeCanvas');
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio); // Handle high DPI screens

            // Add globe with real Earth texture
            const textureLoader = new THREE.TextureLoader();
            textureLoader.load('https://cdn.jsdelivr.net/npm/earth-at-night@1.0.0/earthmap4k.jpg', function(texture) {
                const globeGeometry = new THREE.SphereGeometry(2, 64, 64);
                const globeMaterial = new THREE.MeshPhongMaterial({ map: texture });
                globe = new THREE.Mesh(globeGeometry, globeMaterial);
                scene.add(globe);
            });

            // Lighting
            scene.add(new THREE.AmbientLight(0xffffff, 0.7));
            const dirLight = new THREE.DirectionalLight(0xffffff, 0.7);
            dirLight.position.set(5, 3, 5);
            scene.add(dirLight);

            // Load your GeoJSON file (must be served from same origin or CORS enabled)
            fetch('custom.geo.json')
            .then(res => res.json())
            .then(geojson => {
                geojson.features.forEach(feature => {
                    const country = feature.properties.name || 'Unknown';
                    feature.geometry.coordinates.forEach(polygon => {
                        const shape = new THREE.Shape();
                        polygon[0].forEach(([lon, lat], i) => {
                            const phi = (90 - lat) * Math.PI / 180;
                            const theta = (lon + 180) * Math.PI / 180;
                            const x = 2 * Math.sin(phi) * Math.cos(theta);
                            const y = 2 * Math.cos(phi);
                            const z = 2 * Math.sin(phi) * Math.sin(theta);
                            if (i === 0) shape.moveTo(x, y, z);
                            else shape.lineTo(x, y, z);
                        });
                        const geometry = new THREE.ShapeGeometry(shape);
                        const material = new THREE.MeshBasicMaterial({
                            color: 0x00ff00, opacity: 0.2, transparent: true, side: THREE.DoubleSide
                        });
                        const mesh = new THREE.Mesh(geometry, material);
                        mesh.userData = { country };
                        countryMeshes.push(mesh);
                        scene.add(mesh);
                    });
                });
            });

            // Event listeners for mouse interaction and clicks
            document.addEventListener('mousemove', onDocumentMouseMove, false);
            canvas.addEventListener('mousedown', onDocumentMouseDown, false); // Listen for clicks on the canvas
            window.addEventListener('resize', onWindowResize, false);
        }

        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - windowHalfX) * 0.0005;
            mouseY = (event.clientY - windowHalfY) * 0.0005;
        }

        function onDocumentMouseDown(event) {
            // Calculate mouse position in normalized device coordinates (-1 to +1) for both components
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;

            // Update the picking ray with the camera and mouse position
            raycaster.setFromCamera(mouse, camera);

            // Calculate objects intersecting the picking ray
            const intersects = raycaster.intersectObjects(countryMeshes);

            if (intersects.length > 0) {
                const mesh = intersects[0].object;
                if (highlighted) highlighted.material.color.set(0x00ff00);
                mesh.material.color.set(0xff0000);
                highlighted = mesh;
                showCountryPopup(mesh.userData.country);
            }
        }

        function showCountryPopup(countryName) {
            // Show popup with country name and latest YouTube video (search by country name)
            const popup = document.getElementById('countryPopup');
            popup.innerHTML = `<strong>${countryName}</strong><br>
                <iframe width="320" height="180" src="https://www.youtube.com/embed?listType=search&list=${encodeURIComponent(countryName + ' latest news')}&autoplay=1" frameborder="0" allowfullscreen></iframe>`;
            popup.style.display = 'block';
            setTimeout(() => { popup.style.display = 'none'; }, 10000);
        }

        function onWindowResize() {
            windowHalfX = window.innerWidth / 2;
            windowHalfY = window.innerHeight / 2;

            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            // Rotate the globe
            globe.rotation.y += 0.001; // Continuous slow rotation

            // Adjust globe rotation based on mouse position
            globe.rotation.x += (mouseY - globe.rotation.x) * 0.05;
            globe.rotation.y += (mouseX - globe.rotation.y) * 0.05;

            renderer.render(scene, camera);
        }

        // Initialize and start the animation when the window loads
        window.onload = function () {
            init();
            animate();
        };
    </script>
</body>
</html>
